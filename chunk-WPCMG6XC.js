import{a as ue}from"./chunk-YA72FBKR.js";import{a as he,b as D}from"./chunk-HRHNB2HW.js";import{a as se}from"./chunk-ETMPH7TO.js";import{a as de}from"./chunk-RJI7ACCQ.js";import{b as oe,c as P,d as B,e as C,f as j,g as H}from"./chunk-NDUKLGH2.js";import{b as T,d as V}from"./chunk-VV6F5A3M.js";import"./chunk-HY3UCQ3V.js";import{$ as A,Db as Y,Eb as F,Fb as U,Gb as a,Ha as ee,Ib as h,Jb as S,Kb as ne,M as G,O as X,P as Z,Q as J,Qb as c,Rb as d,Sa as te,Sb as L,Ua as r,Va as O,Wb as N,ba as R,bb as ie,ec as ae,hb as b,l as $,lc as re,mc as le,o as K,ob as u,p as Q,qb as I,qc as ce,rb as E,ub as n,va as v,vb as i,wa as f,wb as k,xa as w,xb as M,ya as q,yb as x,zb as m}from"./chunk-2XQJXKYY.js";var xe=["chartContainer"],ve=["chart"];function fe(s,o){if(s&1){let e=M();n(0,"button",44),x("click",function(){v(e);let l=m(2);return f(l.setExchange(l.ExchangeName.NSE))}),a(1," NSE "),i()}if(s&2){let e=m(),t=m();I("rounded-lg",!e.scripCode.bse),u("ngClass",t.activeExchange===t.ExchangeName.NSE?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500")("disabled",!e.scripCode.bse)}}function ye(s,o){if(s&1){let e=M();n(0,"button",45),x("click",function(){v(e);let l=m(2);return f(l.setExchange(l.ExchangeName.BSE))}),a(1," BSE "),i()}if(s&2){let e=m(),t=m();I("rounded-lg",!e.scripCode.nse),u("ngClass",t.activeExchange===t.ExchangeName.BSE?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500")("disabled",!e.scripCode.nse)}}function Ee(s,o){if(s&1&&(n(0,"div",48)(1,"div",47),a(2,"Change:\xA0"),i(),a(3),c(4,"valueOrPlaceholder"),c(5,"valueOrPlaceholder"),i()),s&2){let e=m(3);u("ngClass",e.chartCrosshairData.change.direction===e.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),r(3),S(" ",d(4,3,e.chartCrosshairData.change.value)," (",d(5,5,e.chartCrosshairData.change.percentage),"%) ")}}function Ce(s,o){if(s&1&&(n(0,"div",46)(1,"div",47),a(2,"Open:\xA0"),i(),a(3),c(4,"valueOrPlaceholder"),i(),n(5,"div",46)(6,"div",47),a(7,"Close:\xA0"),i(),a(8),c(9,"valueOrPlaceholder"),i(),n(10,"div",46)(11,"div",47),a(12,"Low:\xA0"),i(),a(13),c(14,"valueOrPlaceholder"),i(),n(15,"div",46)(16,"div",47),a(17,"High:\xA0"),i(),a(18),c(19,"valueOrPlaceholder"),i(),n(20,"div",46)(21,"div",47),a(22,"Volume:\xA0"),i(),a(23),c(24,"valueOrPlaceholder"),i(),b(25,Ee,6,7,"div",48)),s&2){let e=m(2);r(3),h(" ",d(4,6,e.chartCrosshairData.open)," "),r(5),h(" ",d(9,8,e.chartCrosshairData.close)," "),r(5),h(" ",d(14,10,e.chartCrosshairData.low)," "),r(5),h(" ",d(19,12,e.chartCrosshairData.high)," "),r(5),h(" ",L(24,14,e.chartCrosshairData.volume,"1.0-0")," "),r(2),E(e.chartCrosshairData.change?25:-1)}}function be(s,o){s&1&&(n(0,"div",23),w(),n(1,"svg",49),k(2,"path",50)(3,"path",51),i(),q(),n(4,"span",52),a(5,"Loading..."),i()())}function ke(s,o){s&1&&(n(0,"div",24),w(),n(1,"svg",53),k(2,"path",54),i(),q(),n(3,"span"),a(4,"No Data"),i()())}function Se(s,o){s&1&&(n(0,"span",52),a(1,"Minimize"),i(),w(),n(2,"svg",55),k(3,"path",56),i())}function _e(s,o){s&1&&(n(0,"span",52),a(1,"Expand"),i(),w(),n(2,"svg",55),k(3,"path",57),i())}function we(s,o){if(s&1){let e=M();n(0,"div",4)(1,"div",5)(2,"div",6),a(3),c(4,"valueOrPlaceholder"),i(),n(5,"div")(6,"div",7),b(7,fe,2,4,"button",8)(8,ye,2,4,"button",9),i()()(),n(9,"div",10)(10,"div",11),a(11),c(12,"valueOrPlaceholder"),i(),n(13,"div",12),a(14),c(15,"valueOrPlaceholder"),c(16,"valueOrPlaceholder"),i(),n(17,"div",13),a(18),c(19,"valueOrPlaceholder"),i()()(),n(20,"div",14,0)(22,"div",15)(23,"div",16)(24,"div",17),b(25,Ce,26,17),i(),n(26,"div",18)(27,"div",7)(28,"button",19),x("click",function(){v(e);let l=m();return f(l.setChartTimeRange(l.ChartTimeRange.ONE_DAY))}),a(29," 1D "),i(),n(30,"button",20),x("click",function(){v(e);let l=m();return f(l.setChartTimeRange(l.ChartTimeRange.ONE_WEEK))}),a(31," 1W "),i(),n(32,"button",20),x("click",function(){v(e);let l=m();return f(l.setChartTimeRange(l.ChartTimeRange.ONE_MONTH))}),a(33," 1M "),i(),n(34,"button",20),x("click",function(){v(e);let l=m();return f(l.setChartTimeRange(l.ChartTimeRange.THREE_MONTHS))}),a(35," 3M "),i(),n(36,"button",20),x("click",function(){v(e);let l=m();return f(l.setChartTimeRange(l.ChartTimeRange.SIX_MONTHS))}),a(37," 6M "),i(),n(38,"button",20),x("click",function(){v(e);let l=m();return f(l.setChartTimeRange(l.ChartTimeRange.ONE_YEAR))}),a(39," 1Y "),i(),n(40,"button",21),x("click",function(){v(e);let l=m();return f(l.setChartTimeRange(l.ChartTimeRange.FIVE_YEAR))}),a(41," 5Y "),i()()()(),n(42,"div",22,1),b(44,be,6,0,"div",23)(45,ke,5,0,"div",24),i(),n(46,"div",25)(47,"button",26),x("click",function(){v(e);let l=m();return f(l.toggleFullscreen())}),b(48,Se,4,0)(49,_e,4,0),i()()()(),n(50,"div",27)(51,"div",28)(52,"h5",29),a(53," Overview "),i(),n(54,"div",30)(55,"div",31)(56,"div",32)(57,"div",33),a(58," Open "),i(),a(59),c(60,"valueOrPlaceholder"),i(),n(61,"div",32)(62,"div",33),a(63," Prev. Close "),i(),a(64),c(65,"valueOrPlaceholder"),i()(),n(66,"div",34)(67,"div")(68,"div",33),a(69," Day Range (\u20B9) "),i(),n(70,"div",35)(71,"div",32),a(72),c(73,"valueOrPlaceholder"),i(),n(74,"div"),a(75),c(76,"valueOrPlaceholder"),i()(),n(77,"div",36)(78,"div",37),a(79," L "),i(),k(80,"input",38),n(81,"div",39),a(82," H "),i()()(),n(83,"div")(84,"div",33),a(85," 52 Week Range (\u20B9) "),i(),n(86,"div",35)(87,"div",32),a(88),c(89,"valueOrPlaceholder"),i(),n(90,"div"),a(91),c(92,"valueOrPlaceholder"),i()(),n(93,"div",36)(94,"div",37),a(95," L "),i(),k(96,"input",38),n(97,"div",39),a(98," H "),i()()()()()(),n(99,"div",28)(100,"h5",29),a(101," Metrics "),i(),n(102,"div",40)(103,"div",41)(104,"div",32)(105,"div",33),a(106," EPS (TTM) "),i(),n(107,"div",42),a(108),c(109,"valueOrPlaceholder"),i()(),n(110,"div",32)(111,"div",33),a(112," P/E Ratio "),i(),n(113,"div",42),a(114),c(115,"valueOrPlaceholder"),i()(),n(116,"div",32)(117,"div",33),a(118," VWAP "),i(),n(119,"div",42),a(120),c(121,"valueOrPlaceholder"),i()()(),n(122,"div",41)(123,"div",32)(124,"div",33),a(125," Dividend Yield "),i(),n(126,"div",42),a(127),c(128,"valueOrPlaceholder"),i()(),n(129,"div",32)(130,"div",33),a(131," Market Cap "),i(),n(132,"div",42),a(133),c(134,"valueOrPlaceholder"),i()(),n(135,"div",32)(136,"div",33),a(137," Face Value "),i(),n(138,"div",42),a(139),c(140,"valueOrPlaceholder"),i()()()()(),n(141,"div",28)(142,"h5",29),a(143," Returns "),i(),n(144,"div",40)(145,"div",41)(146,"div",43)(147,"div",33),a(148," 1 Month "),i(),n(149,"div",42),a(150),c(151,"valueOrPlaceholder"),i()(),n(152,"div",43)(153,"div",33),a(154," 3 Months "),i(),n(155,"div",42),a(156),c(157,"valueOrPlaceholder"),i()(),n(158,"div",43)(159,"div",33),a(160," 6 Months "),i(),n(161,"div",42),a(162),c(163,"valueOrPlaceholder"),i()()(),n(164,"div",41)(165,"div",43)(166,"div",33),a(167," 1 Year "),i(),n(168,"div",42),a(169),c(170,"valueOrPlaceholder"),i()(),n(171,"div",43)(172,"div",33),a(173," 3 Years "),i(),n(174,"div",42),a(175),c(176,"valueOrPlaceholder"),i()(),n(177,"div",43)(178,"div",33),a(179," 5 Years "),i(),n(180,"div",42),a(181),c(182,"valueOrPlaceholder"),i()()()()(),n(183,"div",28)(184,"h5",29),a(185," Scrip Info "),i(),n(186,"div",40)(187,"div",41)(188,"div",32)(189,"div",33),a(190,"NSE"),i(),n(191,"div",42),a(192),c(193,"valueOrPlaceholder"),i()(),n(194,"div",32)(195,"div",33),a(196,"BSE"),i(),n(197,"div",42),a(198),c(199,"valueOrPlaceholder"),i()(),n(200,"div",32)(201,"div",33),a(202," ISIN "),i(),n(203,"div",42),a(204),c(205,"valueOrPlaceholder"),i()()(),n(206,"div",41)(207,"div",32)(208,"div",33),a(209," Sector "),i(),n(210,"div",42),a(211),c(212,"valueOrPlaceholder"),i()(),n(213,"div",32)(214,"div",33),a(215," Industry "),i(),n(216,"div",42),a(217),c(218,"valueOrPlaceholder"),i()(),n(219,"div",32)(220,"div",33),a(221," Market Cap Type "),i(),n(222,"div",42),a(223),c(224,"valueOrPlaceholder"),i()()()()()()}if(s&2){let e=o,t=m();r(3),h(" ",d(4,67,e.name)," "),r(4),E(e.scripCode.nse?7:-1),r(),E(e.scripCode.bse?8:-1),r(3),h(" \u20B9",d(12,69,e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].price)," "),r(2),u("ngClass",(e.quote==null||e.quote[t.activeExchange]==null||e.quote[t.activeExchange].change==null?null:e.quote[t.activeExchange].change.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),r(),ne(" ",(e.quote==null||e.quote[t.activeExchange]==null||e.quote[t.activeExchange].change==null?null:e.quote[t.activeExchange].change.direction)===t.Direction.UP?"\u25B2":"\u25BC"," \u20B9",d(15,71,e.quote==null||e.quote[t.activeExchange]==null||e.quote[t.activeExchange].change==null?null:e.quote[t.activeExchange].change.value)," (",d(16,73,e.quote==null||e.quote[t.activeExchange]==null||e.quote[t.activeExchange].change==null?null:e.quote[t.activeExchange].change.percentage),"%) "),r(4),h(" Volume: ",L(19,75,e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].volume,"1.0-0")," "),r(2),I("md:px-4",!t.isChartInFullscreen),r(2),u("ngClass",t.isChartInFullscreen?"pe-4":"md:shadow md:rounded-lg md:border md:border-gray-200 md:dark:border-gray-700"),r(3),E(t.chartCrosshairData?25:-1),r(3),u("ngClass",t.activeChartTimeRange===t.ChartTimeRange.ONE_DAY?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),r(2),u("ngClass",t.activeChartTimeRange===t.ChartTimeRange.ONE_WEEK?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),r(2),u("ngClass",t.activeChartTimeRange===t.ChartTimeRange.ONE_MONTH?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),r(2),u("ngClass",t.activeChartTimeRange===t.ChartTimeRange.THREE_MONTHS?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),r(2),u("ngClass",t.activeChartTimeRange===t.ChartTimeRange.SIX_MONTHS?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),r(2),u("ngClass",t.activeChartTimeRange===t.ChartTimeRange.ONE_YEAR?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),r(2),u("ngClass",t.activeChartTimeRange===t.ChartTimeRange.FIVE_YEAR?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),r(2),u("ngClass",t.isChartInFullscreen?"flex-1":"w-full h-80"),r(2),E(t.isChartLoading?44:-1),r(),E(t.isChartNoData?45:-1),r(),u("ngClass",t.isChartInFullscreen?"block bottom-2 right-3":"block sm:hidden bottom-1 right-1"),r(2),E(t.isChartInFullscreen?48:49),r(11),h(" \u20B9",d(60,78,e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].open)," "),r(5),h(" \u20B9",d(65,80,e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].close)," "),r(8),h(" ",d(73,82,e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].low)," "),r(3),h(" ",d(76,84,e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].high)," "),r(5),u("min",e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].low)("max",e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].high)("value",e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].price),r(8),h(" ",d(89,86,e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].fiftyTwoWeekLow)," "),r(3),h(" ",d(92,88,e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].fiftyTwoWeekHigh)," "),r(5),u("min",e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].fiftyTwoWeekLow)("max",e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].fiftyTwoWeekHigh)("value",e.quote==null||e.quote[t.activeExchange]==null?null:e.quote[t.activeExchange].price),r(12),h(" \u20B9",d(109,90,e.metrics==null||e.metrics[t.activeExchange]==null?null:e.metrics[t.activeExchange].eps)," "),r(6),h(" ",d(115,92,e.metrics==null||e.metrics[t.activeExchange]==null?null:e.metrics[t.activeExchange].pe)," "),r(6),h(" \u20B9",d(121,94,e.metrics==null||e.metrics[t.activeExchange]==null?null:e.metrics[t.activeExchange].vwap)," "),r(7),h(" ",d(128,96,e.metrics==null||e.metrics[t.activeExchange]==null?null:e.metrics[t.activeExchange].dividendYield),"% "),r(6),h(" \u20B9",d(134,98,e.metrics==null||e.metrics[t.activeExchange]==null?null:e.metrics[t.activeExchange].marketCap)," Cr. "),r(6),h(" \u20B9",d(140,100,e.metrics==null||e.metrics[t.activeExchange]==null?null:e.metrics[t.activeExchange].faceValue)," "),r(7),u("ngClass",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].monthly==null?null:e.performance[t.activeExchange].monthly.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),r(4),S(" ",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].monthly==null?null:e.performance[t.activeExchange].monthly.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",d(151,102,e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].monthly==null?null:e.performance[t.activeExchange].monthly.percentage),"% "),r(2),u("ngClass",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].quarterly==null?null:e.performance[t.activeExchange].quarterly.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),r(4),S(" ",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].quarterly==null?null:e.performance[t.activeExchange].quarterly.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",d(157,104,e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].quarterly==null?null:e.performance[t.activeExchange].quarterly.percentage),"% "),r(2),u("ngClass",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].halfYearly==null?null:e.performance[t.activeExchange].halfYearly.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),r(4),S(" ",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].halfYearly==null?null:e.performance[t.activeExchange].halfYearly.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",d(163,106,e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].halfYearly==null?null:e.performance[t.activeExchange].halfYearly.percentage),"% "),r(3),u("ngClass",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.one==null?null:e.performance[t.activeExchange].yearly.one.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),r(4),S(" ",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.one==null?null:e.performance[t.activeExchange].yearly.one.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",d(170,108,e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.one==null?null:e.performance[t.activeExchange].yearly.one.percentage),"% "),r(2),u("ngClass",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.three==null?null:e.performance[t.activeExchange].yearly.three.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),r(4),S(" ",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.three==null?null:e.performance[t.activeExchange].yearly.three.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",d(176,110,e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.three==null?null:e.performance[t.activeExchange].yearly.three.percentage),"% "),r(2),u("ngClass",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.five==null?null:e.performance[t.activeExchange].yearly.five.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),r(4),S(" ",(e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.five==null?null:e.performance[t.activeExchange].yearly.five.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",d(182,112,e.performance==null||e.performance[t.activeExchange]==null||e.performance[t.activeExchange].yearly==null||e.performance[t.activeExchange].yearly.five==null?null:e.performance[t.activeExchange].yearly.five.percentage),"% "),r(11),h(" ",d(193,114,e.scripCode.nse)," "),r(6),h(" ",d(199,116,e.scripCode.bse)," "),r(6),h(" ",d(205,118,e.scripCode.isin)," "),r(7),h(" ",d(212,120,e.details==null?null:e.details.sector)," "),r(6),h(" ",d(218,122,e.details==null?null:e.details.industry)," "),r(6),h(" ",d(224,124,e.metrics==null||e.metrics[t.activeExchange]==null?null:e.metrics[t.activeExchange].marketCapType)," ")}}function Pe(s,o){s&1&&(n(0,"div",3),w(),n(1,"svg",49),k(2,"path",50)(3,"path",51),i(),q(),n(4,"span",52),a(5,"Loading..."),i()())}var y=function(s){return s.ONE_DAY="1D",s.ONE_WEEK="1W",s.ONE_MONTH="1M",s.THREE_MONTHS="3M",s.SIX_MONTHS="6M",s.ONE_YEAR="1Y",s.FIVE_YEAR="5Y",s}(y||{}),me=class z{constructor(o,e,t,l){this.document=o,this.cdr=e,this.id=ee(""),this.activeChartTimeRange=y.ONE_DAY,this.activeExchange=P.NSE,this.isChartLoading=!0,this.isChartInFullscreen=!1,this.isChartNoData=!1,this.ExchangeName=P,this.Direction=B,this.ChartTimeRange=y,this.showIntraDayChart$=new $(!0),this.isMarketOpen=!1,t.marketStatus$.pipe(D(this)).subscribe(({status:g})=>{this.isMarketOpen=g===oe.OPEN}),this.stock$=se(this.id).pipe(A(g=>t.getStock(g,!0)),R(g=>{if(g&&!g.scripCode.nse&&(this.activeExchange=P.BSE),g&&!this.chart&&(g.scripCode.nse||g.scripCode.bse)){let pe=t.getIntraDayChart((this.activeExchange===P.NSE?g.scripCode.nse:g.scripCode.bse)||"",j.STOCK),ge=t.getHistoricalChart(g.vendorCode.etm.chart||"",j.STOCK).pipe(R(_=>{_.length>0&&(this.historicChartData=_.reduce((p,W)=>(p.set(W.time,W),p),new Map))}));this.showIntraDayChart$.pipe(Z(),R(()=>{this.chart&&(this.chart.clearCrosshairPosition(),this.chart.applyOptions({timeScale:{visible:!1},rightPriceScale:{visible:!1}}),this.areaSeries&&this.areaSeries.setData([])),this.isChartLoading=!0}),A(_=>_?pe.pipe(D(this)):ge.pipe(G(1)))).pipe(X(100)).subscribe(_=>{if(_.length>0){if(this.isChartNoData=!1,this.initChart(_),this.areaSeries){let p=this.activeExchange===P.NSE?g.quote?.nse?.change?.direction:g.quote?.bse?.change?.direction;this.areaSeries.applyOptions({lineColor:p?p===B.UP?"#22c55e":"#ef4444":"#2962FF",topColor:p?p===B.UP?"rgba(34, 197, 94, 0.4)":"rgba(239, 68, 68, 0.4)":"rgba(41, 98, 255, 0.4)",bottomColor:p?p===B.UP?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)":"rgba(41, 98, 255, 0.1)"})}l.resize$.pipe(D(this)).subscribe(()=>{this.chart&&this.chartRef&&(this.chart.resize(this.chartRef.nativeElement.offsetWidth,this.chartRef.nativeElement.offsetHeight),this.chart.timeScale().fitContent(),this.setChartTimeRange(this.activeChartTimeRange))}),l.settings$.pipe(D(this),J("colorScheme")).subscribe(({colorScheme:p})=>{p&&this.chart&&this.chart.applyOptions({layout:{textColor:p===T.DARK?"#fff":"#111827"},timeScale:{visible:!0,borderColor:p===T.DARK?"#374151":"#E5E7EB"},rightPriceScale:{visible:!0,borderColor:p===T.DARK?"#374151":"#E5E7EB"},crosshair:{horzLine:{labelBackgroundColor:p===T.DARK?"#111827":"#f3f4f6"},vertLine:{labelBackgroundColor:p===T.DARK?"#111827":"#f3f4f6"}}})})}else this.isChartNoData=!0;this.isChartLoading=!1,this.cdr.markForCheck()})}}))}setChartTimeRange(o){if(o){if(this.activeChartTimeRange=o,this.showIntraDayChart$.next(o===y.ONE_DAY),o!==y.ONE_DAY){let e=new Date,t;switch(o){case y.ONE_WEEK:t=C.getTimestampSince(e,10);break;case y.ONE_MONTH:t=C.getTimestampSince(e,30);break;case y.THREE_MONTHS:t=C.getTimestampSince(e,90);break;case y.SIX_MONTHS:t=C.getTimestampSince(e,180);break;case y.ONE_YEAR:t=C.getTimestampSince(e,365);break;case y.FIVE_YEAR:t=C.getTimestampSince(e,5*356);break;default:console.warn(`Invalid range: ${o}`)}this.chart&&t>0&&(this.chart.applyOptions({timeScale:{timeVisible:!1}}),this.areaSeries&&this.areaSeries.applyOptions({lastPriceAnimation:0}),this.areaSeries&&this.areaSeries.data().length>0&&this.chart.timeScale().setVisibleRange({from:C.epochToUtcTimestamp(t),to:C.epochToUtcTimestamp(e.getTime())}));return}this.chart&&(this.chart.applyOptions({timeScale:{timeVisible:!0}}),this.areaSeries&&this.areaSeries.applyOptions({lastPriceAnimation:this.isMarketOpen?1:0}),this.chart.timeScale().setVisibleLogicalRange({from:0,to:375}))}}setExchange(o){o&&(this.activeExchange=o)}onFullscreenChange(){this.document.fullscreenElement?this.isChartInFullscreen=!0:this.isChartInFullscreen=!1,this.chart&&this.chartRef&&(this.chart.resize(this.chartRef.nativeElement.offsetWidth,this.chartRef.nativeElement.offsetHeight),this.chart.timeScale().fitContent(),this.setChartTimeRange(this.activeChartTimeRange))}toggleFullscreen(){this.document.fullscreenElement?this.document.exitFullscreen():this.chartContainerRef&&this.chartContainerRef.nativeElement.requestFullscreen().then(()=>{screen.orientation.lock("landscape").catch(o=>{console.error(`An error occurred while trying to lock screen orientation to landscape: ${o.message} (${o.name})`)}),this.cdr.markForCheck()}).catch(o=>{console.error(`An error occurred while trying to switch into fullscreen mode: ${o.message} (${o.name})`)})}ngOnDestroy(){this.chart&&this.chart.unsubscribeCrosshairMove(this.chartCrosshairMoveEventHandler.bind(this))}initChart(o){if(this.chartRef?.nativeElement){let e=this.showIntraDayChart$.getValue();this.chart||(this.chart=ue(this.chartRef.nativeElement,{layout:{background:{color:"transparent"}},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},handleScroll:!1,handleScale:!1,timeScale:{lockVisibleTimeRangeOnResize:!0,timeVisible:e,secondsVisible:!1}})),this.areaSeries||(this.areaSeries=this.chart.addAreaSeries({lineWidth:1,lastPriceAnimation:this.isMarketOpen&&e?1:0})),this.areaSeries.setData(o),this.setChartTimeRange(this.activeChartTimeRange),this.chart.subscribeCrosshairMove(this.chartCrosshairMoveEventHandler.bind(this))}}chartCrosshairMoveEventHandler({time:o}){o&&this.historicChartData&&this.historicChartData.size>0?this.chartCrosshairData=this.historicChartData.get(o.toLocaleString()):this.chartCrosshairData=void 0,this.cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||z)(O(ae),O(N),O(H),O(V))}}static{this.\u0275cmp=ie({type:z,selectors:[["app-stocks"]],viewQuery:function(e,t){if(e&1&&(Y(xe,5),Y(ve,5)),e&2){let l;F(l=U())&&(t.chartContainerRef=l.first),F(l=U())&&(t.chartRef=l.first)}},hostBindings:function(e,t){e&1&&x("fullscreenchange",function(){return t.onFullscreenChange()},!1,te)},inputs:{id:[1,"id"]},decls:4,vars:3,consts:[["chartContainer",""],["chart",""],[1,"flex","h-full","flex-col"],["role","status",1,"flex","flex-1","items-center","justify-center"],[1,"space-y-2","p-4"],[1,"flex","space-x-4"],[1,"flex-1","text-2xl","font-semibold"],["role","group",1,"inline-flex","h-8","rounded-md","shadow-sm"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-10","items-center","rounded-s-lg","border","border-r-0","border-gray-200","px-2","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"ngClass","rounded-lg","disabled"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-10","items-center","rounded-e-lg","border","border-gray-200","px-2","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"ngClass","rounded-lg","disabled"],[1,"text-gray-900","dark:text-white"],[1,"text-lg","font-semibold"],[1,"flex","items-center",3,"ngClass"],[1,"pt-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","flex-col"],[1,"relative","flex","flex-1","flex-col","bg-white","py-4","dark:bg-gray-800",3,"ngClass"],[1,"flex","max-w-full","px-4","pb-4"],[1,"flex","h-8","min-w-36","max-w-36","flex-col","pe-2","text-xs","text-gray-900","md:max-w-none","md:flex-row","md:space-x-3","md:pe-4","dark:text-white"],[1,"flex","flex-1","justify-end"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","rounded-s-lg","border","border-r-0","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","border","border-r-0","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","rounded-e-lg","border","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],[3,"ngClass"],["role","status",1,"flex","h-full","flex-1","items-center","justify-center"],["role","status",1,"flex","h-full","flex-col","items-center","justify-center","text-gray-500","dark:text-gray-400"],[1,"absolute",3,"ngClass"],["type","button",1,"rounded-lg","p-2","text-gray-500","hover:bg-gray-100","hover:text-gray-900","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],[1,"grid","grid-cols-1","gap-4","p-4","sm:grid-cols-2","xl:grid-cols-3"],[1,"flex-1","rounded-lg","border","border-gray-200","bg-white","p-4","shadow","dark:border-gray-700","dark:bg-gray-800"],[1,"mb-4","text-xl","font-semibold","leading-none","text-gray-900","dark:text-white"],[1,"flex","space-x-10","text-sm","text-gray-900","dark:text-white"],[1,"flex","flex-col","space-y-4"],[1,"flex-1"],[1,"pb-1","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","flex-1","flex-col","space-y-4"],[1,"flex","text-xs"],[1,"flex","items-center"],[1,"text-xs","font-bold","text-red-600","dark:text-red-500"],["type","range","disabled","",1,"slider","mx-1","h-1","flex-1","appearance-none","rounded-lg","bg-gray-200","dark:bg-gray-700",3,"min","max","value"],[1,"text-xs","font-bold","text-green-500","dark:text-green-400"],[1,"flex","flex-col","space-y-4","text-sm"],[1,"flex","justify-between"],[1,"flex"],[1,"flex-1",3,"ngClass"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-10","items-center","rounded-s-lg","border","border-r-0","border-gray-200","px-2","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass","disabled"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-10","items-center","rounded-e-lg","border","border-gray-200","px-2","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass","disabled"],[1,"flex","md:flex-col"],[1,"text-gray-500","dark:text-gray-400"],[1,"flex","whitespace-nowrap","md:flex-col",3,"ngClass"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"h-8","w-8","animate-spin","fill-blue-600","text-gray-200","dark:text-gray-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","h-12","w-12"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-6","w-6"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 9h4m0 0V5m0 4L4 4m15 5h-4m0 0V5m0 4 5-5M5 15h4m0 0v4m0-4-5 5m15-5h-4m0 0v4m0-4 5 5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 4H4m0 0v4m0-4 5 5m7-5h4m0 0v4m0-4-5 5M8 20H4m0 0v-4m0 4 5-5m7 5h4m0 0v-4m0 4-5-5"]],template:function(e,t){if(e&1&&(n(0,"div",2),b(1,we,225,126),c(2,"async"),b(3,Pe,6,0,"div",3),i()),e&2){let l;r(),E((l=d(2,1,t.stock$))?1:3,l)}},dependencies:[ce,re,le,de],styles:[".slider[_ngcontent-%COMP%]::-moz-range-thumb{height:.625rem;width:.125rem;cursor:default;border-radius:0}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{height:.625rem;width:.125rem;cursor:default;border-radius:0}"],changeDetection:0})}};me=K([he(),Q("design:paramtypes",[Document,N,H,V])],me);export{me as StocksPage};
