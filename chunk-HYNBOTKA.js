import{e as ge}from"./chunk-N6UQSYE3.js";import{a as _e,b as F}from"./chunk-S65F5ZAR.js";import{a as xe,b as T}from"./chunk-7LY7WDWZ.js";import{a as L}from"./chunk-Z2CMBI34.js";import{a as be}from"./chunk-RQLH5BA6.js";import{b as ve,c as H,d as q,e as C,f as A,g as Ce}from"./chunk-TKJL42GQ.js";import{j as me,k as ue,m as pe,o as he,v as w,x as ye}from"./chunk-43PIU56G.js";import{a as fe}from"./chunk-HY3UCQ3V.js";import{$a as ee,Ab as f,Cb as p,Gb as ae,Hb as le,Ib as oe,Jb as B,K,Kb as r,L as X,Lb as M,M as G,Mb as u,N as Z,Na as J,Nb as k,Oa as a,Ob as ce,V as R,Vb as de,Wb as c,X as D,Xb as s,Yb as O,ec as N,fc as V,ga as P,ic as se,k as $,la as v,lb as b,ma as y,mb as te,n as W,na as S,nb as _,o as z,oa as I,ob as ie,pb as ne,qa as Q,qb as m,rb as n,sb as i,tb as x,v as j,xb as re}from"./chunk-3IMHSIYC.js";var Se=["chartContainer"],we=["chart"],Pe=(o,l)=>[o,l],Oe=(o,l)=>l.vendorCode.etm;function Te(o,l){if(o&1&&(n(0,"div",52)(1,"div",51),r(2,"Change:\xA0"),i(),r(3),c(4,"valueOrPlaceholder"),c(5,"valueOrPlaceholder"),i()),o&2){let e=p(3);m("ngClass",e.chartCrosshairData.change.direction===e.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(3),k(" ",s(4,3,e.chartCrosshairData.change.value)," (",s(5,5,e.chartCrosshairData.change.percentage),"%) ")}}function qe(o,l){if(o&1&&(n(0,"div",50)(1,"div",51),r(2,"Open:\xA0"),i(),r(3),c(4,"valueOrPlaceholder"),i(),n(5,"div",50)(6,"div",51),r(7,"Close:\xA0"),i(),r(8),c(9,"valueOrPlaceholder"),i(),n(10,"div",50)(11,"div",51),r(12,"Low:\xA0"),i(),r(13),c(14,"valueOrPlaceholder"),i(),n(15,"div",50)(16,"div",51),r(17,"High:\xA0"),i(),r(18),c(19,"valueOrPlaceholder"),i(),n(20,"div",50)(21,"div",51),r(22,"Volume:\xA0"),i(),r(23),c(24,"valueOrPlaceholder"),i(),b(25,Te,6,7,"div",52)),o&2){let e=p(2);a(3),u(" ",s(4,6,e.chartCrosshairData.open)," "),a(5),u(" ",s(9,8,e.chartCrosshairData.close)," "),a(5),u(" ",s(14,10,e.chartCrosshairData.low)," "),a(5),u(" ",s(19,12,e.chartCrosshairData.high)," "),a(5),u(" ",O(24,14,e.chartCrosshairData.volume,"1.0-0")," "),a(2),_(e.chartCrosshairData.change?25:-1)}}function De(o,l){o&1&&(n(0,"div",21),S(),n(1,"svg",53),x(2,"path",54)(3,"path",55),i(),I(),n(4,"span",56),r(5,"Loading..."),i()())}function Ie(o,l){o&1&&(n(0,"div",22),S(),n(1,"svg",57),x(2,"path",58),i(),I(),n(3,"span"),r(4,"No Data"),i()())}function Re(o,l){o&1&&(n(0,"span",56),r(1,"Minimize"),i(),S(),n(2,"svg",59),x(3,"path",60),i())}function Be(o,l){o&1&&(n(0,"span",56),r(1,"Expand"),i(),S(),n(2,"svg",59),x(3,"path",61),i())}function Me(o,l){if(o&1&&(n(0,"tr",69)(1,"th",70)(2,"div",71),r(3),c(4,"valueOrPlaceholder"),i()(),n(5,"td",72)(6,"div",8),r(7),c(8,"valueOrPlaceholder"),i(),n(9,"div",73),r(10),c(11,"valueOrPlaceholder"),i()(),n(12,"td",74)(13,"div"),r(14),c(15,"valueOrPlaceholder"),i(),n(16,"div"),r(17),c(18,"valueOrPlaceholder"),i()()()),o&2){let e=l.$implicit,t=p(2),d=p();m("routerLink",de(18,Pe,"/"+d.Routes.STOCKS,e.vendorCode.etm.primary)),a(3),u(" ",s(4,7,e.name)," "),a(4),u(" ",s(8,9,e.quote==null||e.quote[t.exchange]==null?null:e.quote[t.exchange].price)," "),a(3),u(" ",O(11,11,e.quote==null||e.quote[t.exchange]==null?null:e.quote[t.exchange].volume,"1.0-0")," "),a(2),m("ngClass",(e.quote==null||e.quote[t.exchange]==null||e.quote[t.exchange].change==null?null:e.quote[t.exchange].change.direction)===d.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(2),u(" ",s(15,14,e.quote==null||e.quote[t.exchange]==null||e.quote[t.exchange].change==null?null:e.quote[t.exchange].change.value)," "),a(3),u(" (",s(18,16,e.quote==null||e.quote[t.exchange]==null||e.quote[t.exchange].change==null?null:e.quote[t.exchange].change.percentage),"%) ")}}function Ne(o,l){if(o&1&&(n(0,"div",49)(1,"table",62)(2,"colgroup"),x(3,"col",63)(4,"col",64)(5,"col",64),i(),n(6,"thead",65)(7,"tr")(8,"th",66)(9,"div",67),r(10,"Company"),i()(),n(11,"th",68)(12,"div"),r(13,"LTP (\u20B9)"),i(),n(14,"div"),r(15,"Volume"),i()(),n(16,"th",68)(17,"div"),r(18,"Day P/L (\u20B9)"),i(),n(19,"div"),r(20,"Day P/L (%)"),i()()()(),n(21,"tbody"),ie(22,Me,19,21,"tr",69,Oe),i()()()),o&2){let e=p();a(22),ne(e.constituents)}}function Ve(o,l){if(o&1){let e=re();n(0,"div",4)(1,"div",5)(2,"div",6),r(3),c(4,"valueOrPlaceholder"),n(5,"span",7),r(6),c(7,"valueOrPlaceholder"),c(8,"uppercase"),i()()(),n(9,"div",8)(10,"div",9),r(11),c(12,"valueOrPlaceholder"),i(),n(13,"div",10),r(14),c(15,"valueOrPlaceholder"),c(16,"valueOrPlaceholder"),i()()(),n(17,"div",11,0)(19,"div",12)(20,"div",13)(21,"div",14),b(22,qe,26,17),i(),n(23,"div",15)(24,"div",16)(25,"button",17),f("click",function(){v(e);let d=p();return y(d.setChartTimeRange(d.ChartTimeRange.ONE_DAY))}),r(26," 1D "),i(),n(27,"button",18),f("click",function(){v(e);let d=p();return y(d.setChartTimeRange(d.ChartTimeRange.ONE_WEEK))}),r(28," 1W "),i(),n(29,"button",18),f("click",function(){v(e);let d=p();return y(d.setChartTimeRange(d.ChartTimeRange.ONE_MONTH))}),r(30," 1M "),i(),n(31,"button",18),f("click",function(){v(e);let d=p();return y(d.setChartTimeRange(d.ChartTimeRange.THREE_MONTHS))}),r(32," 3M "),i(),n(33,"button",18),f("click",function(){v(e);let d=p();return y(d.setChartTimeRange(d.ChartTimeRange.SIX_MONTHS))}),r(34," 6M "),i(),n(35,"button",18),f("click",function(){v(e);let d=p();return y(d.setChartTimeRange(d.ChartTimeRange.ONE_YEAR))}),r(36," 1Y "),i(),n(37,"button",19),f("click",function(){v(e);let d=p();return y(d.setChartTimeRange(d.ChartTimeRange.FIVE_YEAR))}),r(38," 5Y "),i()()()(),n(39,"div",20,1),b(41,De,6,0,"div",21),b(42,Ie,5,0,"div",22),i(),n(43,"div",23)(44,"button",24),f("click",function(){v(e);let d=p();return y(d.toggleFullscreen())}),b(45,Re,4,0)(46,Be,4,0),i()()()(),n(47,"div",25)(48,"div",26)(49,"h5",27),r(50," Overview "),i(),n(51,"div",28)(52,"div",29)(53,"div",30)(54,"div",31),r(55," Open "),i(),r(56),c(57,"valueOrPlaceholder"),i(),n(58,"div",30)(59,"div",31),r(60," Prev. Close "),i(),r(61),c(62,"valueOrPlaceholder"),i()(),n(63,"div",32)(64,"div")(65,"div",31),r(66," Day Range "),i(),n(67,"div",33)(68,"div",30),r(69),c(70,"valueOrPlaceholder"),i(),n(71,"div"),r(72),c(73,"valueOrPlaceholder"),i()(),n(74,"div",34)(75,"div",35),r(76," L "),i(),x(77,"input",36),n(78,"div",37),r(79," H "),i()()(),n(80,"div")(81,"div",31),r(82," 52 Week Range "),i(),n(83,"div",33)(84,"div",30),r(85),c(86,"valueOrPlaceholder"),i(),n(87,"div"),r(88),c(89,"valueOrPlaceholder"),i()(),n(90,"div",34)(91,"div",35),r(92," L "),i(),x(93,"input",36),n(94,"div",37),r(95," H "),i()()()()()(),n(96,"div",38)(97,"h5",27),r(98," Advance/Decline "),i(),n(99,"div",39)(100,"div",40)(101,"span"),r(102),c(103,"valueOrPlaceholder"),i(),n(104,"span"),r(105),c(106,"valueOrPlaceholder"),i()(),n(107,"div",41),x(108,"div",42),i(),n(109,"div",40)(110,"span"),r(111),c(112,"valueOrPlaceholder"),i(),n(113,"span"),r(114),c(115,"valueOrPlaceholder"),i()()()(),n(116,"div",26)(117,"h5",27),r(118," Returns "),i(),n(119,"div",43)(120,"div",44)(121,"div",45)(122,"div",31),r(123," 1 Month "),i(),n(124,"div",46),r(125),c(126,"valueOrPlaceholder"),i()(),n(127,"div",45)(128,"div",31),r(129," 3 Months "),i(),n(130,"div",46),r(131),c(132,"valueOrPlaceholder"),i()(),n(133,"div",45)(134,"div",31),r(135," 6 Months "),i(),n(136,"div",46),r(137),c(138,"valueOrPlaceholder"),i()()(),n(139,"div",44)(140,"div",45)(141,"div",31),r(142," 1 Year "),i(),n(143,"div",46),r(144),c(145,"valueOrPlaceholder"),i()(),n(146,"div",45)(147,"div",31),r(148," 3 Years "),i(),n(149,"div",46),r(150),c(151,"valueOrPlaceholder"),i()(),n(152,"div",45)(153,"div",31),r(154," 5 Years "),i(),n(155,"div",46),r(156),c(157,"valueOrPlaceholder"),i()()()()()(),n(158,"div",47)(159,"h5",48),r(160," Constituent Stocks "),i(),b(161,Ne,24,0,"div",49),i()}if(o&2){let e=l,t=p();a(3),u(" ",s(4,62,e.name)," "),a(3),M(s(8,66,s(7,64,e.exchange))),a(5),u(" ",s(12,68,e.quote==null?null:e.quote.value)," "),a(2),m("ngClass",(e.quote==null||e.quote.change==null?null:e.quote.change.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(),ce(" ",(e.quote==null||e.quote.change==null?null:e.quote.change.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",s(15,70,e.quote==null||e.quote.change==null?null:e.quote.change.value)," (",s(16,72,e.quote==null||e.quote.change==null?null:e.quote.change.percentage),"%) "),a(3),B("md:px-4",!t.isChartInFullscreen),a(2),m("ngClass",t.isChartInFullscreen?"pe-4":"md:shadow-sm md:rounded-md md:border md:border-gray-200 md:dark:border-gray-700"),a(3),_(t.chartCrosshairData?22:-1),a(3),m("ngClass",t.activeChartTimeRange===t.ChartTimeRange.ONE_DAY?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),m("ngClass",t.activeChartTimeRange===t.ChartTimeRange.ONE_WEEK?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),m("ngClass",t.activeChartTimeRange===t.ChartTimeRange.ONE_MONTH?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),m("ngClass",t.activeChartTimeRange===t.ChartTimeRange.THREE_MONTHS?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),m("ngClass",t.activeChartTimeRange===t.ChartTimeRange.SIX_MONTHS?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),m("ngClass",t.activeChartTimeRange===t.ChartTimeRange.ONE_YEAR?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),m("ngClass",t.activeChartTimeRange===t.ChartTimeRange.FIVE_YEAR?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),m("ngClass",t.isChartInFullscreen?"flex-1":"w-full h-80"),a(2),_(t.isChartLoading?41:-1),a(),_(t.isChartNoData?42:-1),a(),m("ngClass",t.isChartInFullscreen?"block bottom-2 right-3":"block sm:hidden bottom-1 right-1"),a(2),_(t.isChartInFullscreen?45:46),a(11),u(" ",s(57,74,e.quote==null?null:e.quote.open)," "),a(5),u(" ",s(62,76,e.quote==null?null:e.quote.close)," "),a(8),u(" ",s(70,78,e.quote==null?null:e.quote.low)," "),a(3),M(s(73,80,e.quote==null?null:e.quote.high)),a(5),m("min",e.quote==null?null:e.quote.low)("max",e.quote==null?null:e.quote.high)("value",e.quote==null?null:e.quote.value),a(8),u(" ",s(86,82,e.quote==null?null:e.quote.fiftyTwoWeekLow)," "),a(3),u(" ",s(89,84,e.quote==null?null:e.quote.fiftyTwoWeekHigh)," "),a(5),m("min",e.quote==null?null:e.quote.fiftyTwoWeekLow)("max",e.quote==null?null:e.quote.fiftyTwoWeekHigh)("value",e.quote==null?null:e.quote.value),a(9),u("",O(103,86,e.quote==null||e.quote.advance==null?null:e.quote.advance.value,"1.0-0")," Advances"),a(3),u("",O(106,89,e.quote==null||e.quote.decline==null?null:e.quote.decline.value,"1.0-0")," Declines"),a(3),oe("width",(e.quote==null||e.quote.advance==null?null:e.quote.advance.percentage)+"%"),B("rounded-r",!(!(e.quote==null||e.quote.decline==null)&&e.quote.decline.percentage)),a(3),u("",s(112,92,e.quote==null||e.quote.advance==null?null:e.quote.advance.percentage),"%"),a(3),u("",s(115,94,e.quote==null||e.quote.decline==null?null:e.quote.decline.percentage),"%"),a(7),m("ngClass",(e.performance==null||e.performance.monthly==null?null:e.performance.monthly.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),k(" ",(e.performance==null||e.performance.monthly==null?null:e.performance.monthly.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",s(126,96,e.performance==null||e.performance.monthly==null?null:e.performance.monthly.percentage),"% "),a(2),m("ngClass",(e.performance==null||e.performance.quarterly==null?null:e.performance.quarterly.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),k(" ",(e.performance==null||e.performance.quarterly==null?null:e.performance.quarterly.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",s(132,98,e.performance==null||e.performance.quarterly==null?null:e.performance.quarterly.percentage),"% "),a(2),m("ngClass",(e.performance==null||e.performance.halfYearly==null?null:e.performance.halfYearly.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),k(" ",(e.performance==null||e.performance.halfYearly==null?null:e.performance.halfYearly.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",s(138,100,e.performance==null||e.performance.halfYearly==null?null:e.performance.halfYearly.percentage),"% "),a(3),m("ngClass",(e.performance==null||e.performance.yearly==null||e.performance.yearly.one==null?null:e.performance.yearly.one.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),k(" ",(e.performance==null||e.performance.yearly==null||e.performance.yearly.one==null?null:e.performance.yearly.one.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",s(145,102,e.performance==null||e.performance.yearly==null||e.performance.yearly.one==null?null:e.performance.yearly.one.percentage),"% "),a(2),m("ngClass",(e.performance==null||e.performance.yearly==null||e.performance.yearly.three==null?null:e.performance.yearly.three.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),k(" ",(e.performance==null||e.performance.yearly==null||e.performance.yearly.three==null?null:e.performance.yearly.three.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",s(151,104,e.performance==null||e.performance.yearly==null||e.performance.yearly.three==null?null:e.performance.yearly.three.percentage),"% "),a(2),m("ngClass",(e.performance==null||e.performance.yearly==null||e.performance.yearly.five==null?null:e.performance.yearly.five.direction)===t.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),k(" ",(e.performance==null||e.performance.yearly==null||e.performance.yearly.five==null?null:e.performance.yearly.five.direction)===t.Direction.UP?"\u25B2":"\u25BC"," ",s(157,106,e.performance==null||e.performance.yearly==null||e.performance.yearly.five==null?null:e.performance.yearly.five.percentage),"% "),a(5),_(e.constituents&&e.constituents.length>0?161:-1)}}function He(o,l){o&1&&(n(0,"div",3),S(),n(1,"svg",53),x(2,"path",54)(3,"path",55),i(),I(),n(4,"span",56),r(5,"Loading..."),i()())}var g=(function(o){return o.ONE_DAY="1D",o.ONE_WEEK="1W",o.ONE_MONTH="1M",o.THREE_MONTHS="3M",o.SIX_MONTHS="6M",o.ONE_YEAR="1Y",o.FIVE_YEAR="5Y",o})(g||{}),ke=class U{constructor(){this.document=P(Q),this.cdr=P(se),this.chartContainerRef=V("chartContainer"),this.chartRef=V("chart"),this.exchange=N(""),this.id=N(""),this.activeChartTimeRange=g.ONE_DAY,this.activeExchange=H.NSE,this.isChartLoading=!0,this.isChartInFullscreen=!1,this.isChartNoData=!1,this.Routes=fe.routes,this.Exchange=H,this.Direction=q,this.ChartTimeRange=g,this.showIntraDayChart$=new $(!0),this.isMarketOpen=!1;let l=P(Ce),e=P(ye);l.marketStatus$.pipe(T(this)).subscribe(({status:t})=>{this.isMarketOpen=t===ve.OPEN}),this.index$=j([L(this.exchange),L(this.id)]).pipe(R(([t,d])=>l.getIndex(d,t,!0)),D(t=>{if(t&&!this.chart){let d=l.getIntraDayChart(t.id,A.INDEX),Ee=l.getHistoricalChart(t.id,A.INDEX).pipe(D(E=>{E.length>0&&(this.historicChartData=E.reduce((h,Y)=>(h.set(Y.time,Y),h),new Map))}));this.showIntraDayChart$.pipe(G(),D(()=>{this.chart&&(this.chart.clearCrosshairPosition(),this.chart.applyOptions({timeScale:{visible:!1},rightPriceScale:{visible:!1}}),this.areaSeries&&this.areaSeries.setData([])),this.isChartLoading=!0}),R(E=>E?d.pipe(T(this)):Ee.pipe(K(1)))).pipe(X(100)).subscribe(E=>{E.length>0?(this.isChartNoData=!1,this.initChart(E),this.areaSeries&&this.areaSeries.applyOptions({lineColor:t.quote?.change?.direction?t.quote.change.direction===q.UP?"#22c55e":"#ef4444":"#2962FF",topColor:t.quote?.change?.direction?t.quote.change.direction===q.UP?"rgba(34, 197, 94, 0.4)":"rgba(239, 68, 68, 0.4)":"rgba(41, 98, 255, 0.4)",bottomColor:t.quote?.change?.direction?t.quote.change.direction===q.UP?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)":"rgba(41, 98, 255, 0.1)"}),e.resize$.pipe(T(this)).subscribe(()=>{let h=this.chartRef();this.chart&&h&&(this.chart.resize(h.nativeElement.offsetWidth,h.nativeElement.offsetHeight),this.chart.timeScale().fitContent(),this.setChartTimeRange(this.activeChartTimeRange))}),e.settings$.pipe(T(this),Z("colorScheme")).subscribe(({colorScheme:h})=>{h&&this.chart&&this.chart.applyOptions({layout:{textColor:h===w.DARK?"#fff":"#111827"},timeScale:{visible:!0,borderColor:h===w.DARK?"#374151":"#E5E7EB"},rightPriceScale:{visible:!0,borderColor:h===w.DARK?"#374151":"#E5E7EB"},crosshair:{horzLine:{labelBackgroundColor:h===w.DARK?"#111827":"#f3f4f6"},vertLine:{labelBackgroundColor:h===w.DARK?"#111827":"#f3f4f6"}}})})):this.isChartNoData=!0,this.isChartLoading=!1,this.cdr.markForCheck()})}}))}setChartTimeRange(l){if(l){if(this.activeChartTimeRange=l,this.showIntraDayChart$.next(l===g.ONE_DAY),l!==g.ONE_DAY){let e=new Date,t;switch(l){case g.ONE_WEEK:t=C.getTimestampSince(e,10);break;case g.ONE_MONTH:t=C.getTimestampSince(e,30);break;case g.THREE_MONTHS:t=C.getTimestampSince(e,90);break;case g.SIX_MONTHS:t=C.getTimestampSince(e,180);break;case g.ONE_YEAR:t=C.getTimestampSince(e,365);break;case g.FIVE_YEAR:t=C.getTimestampSince(e,5*356);break;default:console.warn(`Invalid range: ${l}`)}this.chart&&t>0&&(this.chart.applyOptions({timeScale:{timeVisible:!1}}),this.areaSeries&&this.areaSeries.applyOptions({lastPriceAnimation:0}),this.areaSeries&&this.areaSeries.data().length>0&&this.chart.timeScale().setVisibleRange({from:C.epochToUtcTimestamp(t),to:C.epochToUtcTimestamp(e.getTime())}));return}this.chart&&(this.chart.applyOptions({timeScale:{timeVisible:!0}}),this.areaSeries&&this.areaSeries.applyOptions({lastPriceAnimation:this.isMarketOpen?1:0}),this.chart.timeScale().setVisibleLogicalRange({from:0,to:375}))}}onFullscreenChange(){this.document.fullscreenElement?this.isChartInFullscreen=!0:this.isChartInFullscreen=!1;let l=this.chartRef();this.chart&&l&&(this.chart.resize(l.nativeElement.offsetWidth,l.nativeElement.offsetHeight),this.chart.timeScale().fitContent(),this.setChartTimeRange(this.activeChartTimeRange))}toggleFullscreen(){if(this.document.fullscreenElement)this.document.exitFullscreen();else{let l=this.chartContainerRef();l&&l.nativeElement.requestFullscreen().then(()=>{screen.orientation.lock("landscape").catch(e=>{console.error(`An error occurred while trying to lock screen orientation to landscape: ${e.message} (${e.name})`)}),this.cdr.markForCheck()}).catch(e=>{console.error(`An error occurred while trying to switch into fullscreen mode: ${e.message} (${e.name})`)})}}ngOnDestroy(){this.chart&&this.chart.unsubscribeCrosshairMove(this.chartCrosshairMoveEventHandler.bind(this))}initChart(l){let e=this.chartRef();if(e?.nativeElement){let t=this.showIntraDayChart$.getValue();this.chart||(this.chart=_e(e.nativeElement,{layout:{attributionLogo:!1,background:{color:"transparent"}},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},handleScroll:!1,handleScale:!1,timeScale:{lockVisibleTimeRangeOnResize:!0,timeVisible:t,secondsVisible:!1}}),this.areaSeries=this.chart.addSeries(F,{lineWidth:1})),this.areaSeries||(this.areaSeries=this.chart.addSeries(F,{lineWidth:1,lastPriceAnimation:this.isMarketOpen&&t?1:0})),this.areaSeries.setData(l),this.setChartTimeRange(this.activeChartTimeRange),this.chart.subscribeCrosshairMove(this.chartCrosshairMoveEventHandler.bind(this))}}chartCrosshairMoveEventHandler({time:l}){l&&this.historicChartData&&this.historicChartData.size>0?this.chartCrosshairData=this.historicChartData.get(l.toLocaleString()):this.chartCrosshairData=void 0,this.cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||U)}}static{this.\u0275cmp=ee({type:U,selectors:[["app-indices"]],viewQuery:function(e,t){e&1&&ae(t.chartContainerRef,Se,5)(t.chartRef,we,5),e&2&&le(2)},hostBindings:function(e,t){e&1&&f("fullscreenchange",function(){return t.onFullscreenChange()},J)},inputs:{exchange:[1,"exchange"],id:[1,"id"]},decls:4,vars:3,consts:[["chartContainer",""],["chart",""],[1,"flex","h-full","flex-col"],["role","status",1,"flex","flex-1","items-center","justify-center"],[1,"space-y-2","p-4"],[1,"flex","space-x-4"],[1,"flex-1","text-2xl","font-semibold"],[1,"me-2","rounded-sm","bg-gray-100","px-1.5","py-0.5","text-xs","font-medium","text-gray-800","dark:bg-gray-700","dark:text-gray-300"],[1,"text-gray-900","dark:text-white"],[1,"text-lg","font-semibold"],[1,"flex","items-center",3,"ngClass"],[1,"flex","flex-col"],[1,"relative","flex","flex-1","flex-col","bg-white","py-4","dark:bg-gray-800",3,"ngClass"],[1,"flex","max-w-full","px-4","pb-4"],[1,"flex","h-8","max-w-36","min-w-36","flex-col","pe-2","text-xs","text-gray-900","md:max-w-none","md:flex-row","md:space-x-3","md:pe-4","dark:text-white"],[1,"flex","flex-1","justify-end"],["role","group",1,"inline-flex","h-8","rounded-md","shadow-xs"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","rounded-s-md","border","border-r-0","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","border","border-r-0","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","rounded-e-md","border","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],[3,"ngClass"],["role","status",1,"flex","h-full","flex-1","items-center","justify-center"],["role","status",1,"flex","h-full","flex-col","items-center","justify-center","text-gray-500","dark:text-gray-400"],[1,"absolute",3,"ngClass"],["type","button",1,"rounded-md","p-2","text-gray-500","hover:bg-gray-100","hover:text-gray-900","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],[1,"grid","grid-cols-1","gap-4","p-4","sm:grid-cols-2","xl:grid-cols-3"],[1,"flex-1","rounded-md","border","border-gray-200","bg-white","p-4","shadow-sm","dark:border-gray-700","dark:bg-gray-800"],[1,"mb-4","text-xl","leading-none","font-semibold","text-gray-900","dark:text-white"],[1,"flex","gap-4","text-sm","text-gray-900","dark:text-white"],[1,"flex","flex-col","gap-4"],[1,"flex-1"],[1,"pb-1","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","flex-1","flex-col","gap-4"],[1,"flex","text-xs"],[1,"flex","items-center"],[1,"text-xs","font-bold","text-red-600","dark:text-red-500"],["type","range","disabled","",1,"slider","mx-1","h-1","flex-1","appearance-none","rounded-md","bg-gray-200","dark:bg-gray-700",3,"min","max","value"],[1,"text-xs","font-bold","text-green-500","dark:text-green-400"],[1,"flex","flex-col","rounded-md","border","border-gray-200","bg-white","p-4","shadow-sm","dark:border-gray-700","dark:bg-gray-800"],[1,"flex","flex-1","flex-col","justify-center"],[1,"flex","w-full","justify-between","text-sm","text-gray-900","dark:text-white"],[1,"my-3","h-2","w-full","rounded-full","bg-red-600","dark:bg-red-500"],[1,"h-2","rounded-l","bg-green-500","dark:bg-green-400"],[1,"flex","flex-col","gap-4","text-sm"],[1,"flex","justify-between","gap-4"],[1,"flex-1",3,"ngClass"],[1,"flex"],[1,"mb-4","sm:mx-4"],[1,"p-4","text-xl","leading-none","font-semibold","text-gray-900","sm:mx-0","dark:text-white"],[1,"relative","overflow-x-auto","shadow-sm","sm:rounded-md"],[1,"flex","md:flex-col"],[1,"text-gray-500","dark:text-gray-400"],[1,"flex","whitespace-nowrap","md:flex-col",3,"ngClass"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"h-8","w-8","animate-spin","fill-blue-600","text-gray-200","dark:text-gray-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","h-12","w-12"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-6","w-6"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 9h4m0 0V5m0 4L4 4m15 5h-4m0 0V5m0 4 5-5M5 15h4m0 0v4m0-4-5 5m15-5h-4m0 0v4m0-4 5 5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 4H4m0 0v4m0-4 5 5m7-5h4m0 0v4m0-4-5 5M8 20H4m0 0v-4m0 4 5-5m7 5h4m0 0v-4m0 4-5-5"],[1,"w-screen","text-left","text-sm","text-gray-500","sm:w-full","rtl:text-right","dark:text-gray-400"],["width","100%"],["width","0%"],[1,"bg-gray-50","text-center","text-xs","whitespace-nowrap","text-gray-700","uppercase","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"p-2","text-left","sm:p-4"],[1,"whitespace-nowrap"],["scope","col",1,"p-2","sm:p-4"],[1,"cursor-pointer","border-b","bg-white","dark:border-gray-700","dark:bg-gray-800",3,"routerLink"],["scope","row",1,"max-w-px","p-2","font-normal","sm:p-4"],[1,"truncate","font-medium","text-gray-900","dark:text-white"],[1,"p-2","text-center","sm:p-4"],[1,"pt-1.5","text-xs"],[1,"p-2","text-center","sm:p-4",3,"ngClass"]],template:function(e,t){if(e&1&&(n(0,"div",2),b(1,Ve,162,108),c(2,"async"),te(3,He,6,0,"div",3),i()),e&2){let d;a(),_((d=s(2,1,t.index$))?1:3,d)}},dependencies:[he,me,ge,ue,pe,be],styles:[`.slider[_ngcontent-%COMP%]::-moz-range-thumb{height:calc(var(--spacing, .25rem) * 2.5)}.slider[_ngcontent-%COMP%]::-moz-range-thumb{width:calc(var(--spacing, .25rem) * .5)}.slider[_ngcontent-%COMP%]::-moz-range-thumb{cursor:default}.slider[_ngcontent-%COMP%]::-moz-range-thumb{border-radius:0}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{height:calc(var(--spacing, .25rem) * 2.5)}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{width:calc(var(--spacing, .25rem) * .5)}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{cursor:default}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{border-radius:0}

`],changeDetection:0})}};ke=W([xe(),z("design:paramtypes",[])],ke);export{ke as IndicesPage};
