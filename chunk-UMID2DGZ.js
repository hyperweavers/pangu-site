import{e as fe}from"./chunk-HEVHLYBF.js";import{a as _e}from"./chunk-YA72FBKR.js";import{a as be,b as O}from"./chunk-HRHNB2HW.js";import{a as z}from"./chunk-ETMPH7TO.js";import{a as Ce}from"./chunk-RJI7ACCQ.js";import{b as ye,c as $,d as I,e as b,f as W,g as N}from"./chunk-NDUKLGH2.js";import{b as P,d as M}from"./chunk-VV6F5A3M.js";import{a as ve}from"./chunk-HY3UCQ3V.js";import{$ as H,Db as F,Eb as U,Fb as Y,Gb as n,Ha as A,Hb as j,Ib as p,Jb as E,Kb as se,M as ee,O as te,P as ie,Pb as ue,Q as re,Qb as d,Rb as s,Sa as ne,Sb as q,Ua as a,Va as T,Wb as B,ba as D,bb as ae,ec as pe,hb as _,l as X,lc as me,mc as he,o as G,ob as u,oc as ge,p as Z,pb as le,qb as L,qc as xe,rb as k,sb as oe,tb as ce,ub as i,va as y,vb as t,w as J,wa as C,wb as x,xa as w,xb as de,ya as R,yb as f,zb as m}from"./chunk-2XQJXKYY.js";var Se=["chartContainer"],we=["chart"],Pe=(c,l)=>l.vendorCode.etm,Te=(c,l)=>[c,l];function qe(c,l){if(c&1&&(i(0,"div",52)(1,"div",51),n(2,"Change:\xA0"),t(),n(3),d(4,"valueOrPlaceholder"),d(5,"valueOrPlaceholder"),t()),c&2){let e=m(3);u("ngClass",e.chartCrosshairData.change.direction===e.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(3),E(" ",s(4,3,e.chartCrosshairData.change.value)," (",s(5,5,e.chartCrosshairData.change.percentage),"%) ")}}function Ie(c,l){if(c&1&&(i(0,"div",50)(1,"div",51),n(2,"Open:\xA0"),t(),n(3),d(4,"valueOrPlaceholder"),t(),i(5,"div",50)(6,"div",51),n(7,"Close:\xA0"),t(),n(8),d(9,"valueOrPlaceholder"),t(),i(10,"div",50)(11,"div",51),n(12,"Low:\xA0"),t(),n(13),d(14,"valueOrPlaceholder"),t(),i(15,"div",50)(16,"div",51),n(17,"High:\xA0"),t(),n(18),d(19,"valueOrPlaceholder"),t(),i(20,"div",50)(21,"div",51),n(22,"Volume:\xA0"),t(),n(23),d(24,"valueOrPlaceholder"),t(),_(25,qe,6,7,"div",52)),c&2){let e=m(2);a(3),p(" ",s(4,6,e.chartCrosshairData.open)," "),a(5),p(" ",s(9,8,e.chartCrosshairData.close)," "),a(5),p(" ",s(14,10,e.chartCrosshairData.low)," "),a(5),p(" ",s(19,12,e.chartCrosshairData.high)," "),a(5),p(" ",q(24,14,e.chartCrosshairData.volume,"1.0-0")," "),a(2),k(e.chartCrosshairData.change?25:-1)}}function Oe(c,l){c&1&&(i(0,"div",21),w(),i(1,"svg",53),x(2,"path",54)(3,"path",55),t(),R(),i(4,"span",56),n(5,"Loading..."),t()())}function De(c,l){c&1&&(i(0,"div",22),w(),i(1,"svg",57),x(2,"path",58),t(),R(),i(3,"span"),n(4,"No Data"),t()())}function Re(c,l){c&1&&(i(0,"span",56),n(1,"Minimize"),t(),w(),i(2,"svg",59),x(3,"path",60),t())}function Be(c,l){c&1&&(i(0,"span",56),n(1,"Expand"),t(),w(),i(2,"svg",59),x(3,"path",61),t())}function Me(c,l){if(c&1&&(i(0,"tr",69)(1,"th",70)(2,"div",71),n(3),d(4,"valueOrPlaceholder"),t()(),i(5,"td",72)(6,"div",8),n(7),d(8,"valueOrPlaceholder"),t(),i(9,"div",73),n(10),d(11,"valueOrPlaceholder"),t()(),i(12,"td",74)(13,"div"),n(14),d(15,"valueOrPlaceholder"),t(),i(16,"div"),n(17),d(18,"valueOrPlaceholder"),t()()()),c&2){let e=l.$implicit,r=m(2),o=m();u("routerLink",ue(18,Te,"/"+o.Routes.STOCKS,e.vendorCode.etm.primary)),a(3),p(" ",s(4,7,e.name)," "),a(4),p(" ",s(8,9,e.quote==null||e.quote[r.exchange]==null?null:e.quote[r.exchange].price)," "),a(3),p(" ",q(11,11,e.quote==null||e.quote[r.exchange]==null?null:e.quote[r.exchange].volume,"1.0-0")," "),a(2),u("ngClass",(e.quote==null||e.quote[r.exchange]==null||e.quote[r.exchange].change==null?null:e.quote[r.exchange].change.direction)===o.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(2),p(" ",s(15,14,e.quote==null||e.quote[r.exchange]==null||e.quote[r.exchange].change==null?null:e.quote[r.exchange].change.value)," "),a(3),p(" (",s(18,16,e.quote==null||e.quote[r.exchange]==null||e.quote[r.exchange].change==null?null:e.quote[r.exchange].change.percentage),"%) ")}}function Ne(c,l){if(c&1&&(i(0,"div",49)(1,"table",62)(2,"colgroup"),x(3,"col",63)(4,"col",64)(5,"col",64),t(),i(6,"thead",65)(7,"tr")(8,"th",66)(9,"div",67),n(10,"Company"),t()(),i(11,"th",68)(12,"div"),n(13,"LTP (\u20B9)"),t(),i(14,"div"),n(15,"Volume"),t()(),i(16,"th",68)(17,"div"),n(18,"Day P/L (\u20B9)"),t(),i(19,"div"),n(20,"Day P/L (%)"),t()()()(),i(21,"tbody"),oe(22,Me,19,21,"tr",69,Pe),t()()()),c&2){let e=m();a(22),ce(e.constituents)}}function Ve(c,l){if(c&1){let e=de();i(0,"div",4)(1,"div",5)(2,"div",6),n(3),d(4,"valueOrPlaceholder"),i(5,"span",7),n(6),d(7,"valueOrPlaceholder"),d(8,"uppercase"),t()()(),i(9,"div",8)(10,"div",9),n(11),d(12,"valueOrPlaceholder"),t(),i(13,"div",10),n(14),d(15,"valueOrPlaceholder"),d(16,"valueOrPlaceholder"),t()()(),i(17,"div",11,0)(19,"div",12)(20,"div",13)(21,"div",14),_(22,Ie,26,17),t(),i(23,"div",15)(24,"div",16)(25,"button",17),f("click",function(){y(e);let o=m();return C(o.setChartTimeRange(o.ChartTimeRange.ONE_DAY))}),n(26," 1D "),t(),i(27,"button",18),f("click",function(){y(e);let o=m();return C(o.setChartTimeRange(o.ChartTimeRange.ONE_WEEK))}),n(28," 1W "),t(),i(29,"button",18),f("click",function(){y(e);let o=m();return C(o.setChartTimeRange(o.ChartTimeRange.ONE_MONTH))}),n(30," 1M "),t(),i(31,"button",18),f("click",function(){y(e);let o=m();return C(o.setChartTimeRange(o.ChartTimeRange.THREE_MONTHS))}),n(32," 3M "),t(),i(33,"button",18),f("click",function(){y(e);let o=m();return C(o.setChartTimeRange(o.ChartTimeRange.SIX_MONTHS))}),n(34," 6M "),t(),i(35,"button",18),f("click",function(){y(e);let o=m();return C(o.setChartTimeRange(o.ChartTimeRange.ONE_YEAR))}),n(36," 1Y "),t(),i(37,"button",19),f("click",function(){y(e);let o=m();return C(o.setChartTimeRange(o.ChartTimeRange.FIVE_YEAR))}),n(38," 5Y "),t()()()(),i(39,"div",20,1),_(41,Oe,6,0,"div",21)(42,De,5,0,"div",22),t(),i(43,"div",23)(44,"button",24),f("click",function(){y(e);let o=m();return C(o.toggleFullscreen())}),_(45,Re,4,0)(46,Be,4,0),t()()()(),i(47,"div",25)(48,"div",26)(49,"h5",27),n(50," Overview "),t(),i(51,"div",28)(52,"div",29)(53,"div",30)(54,"div",31),n(55," Open "),t(),n(56),d(57,"valueOrPlaceholder"),t(),i(58,"div",30)(59,"div",31),n(60," Prev. Close "),t(),n(61),d(62,"valueOrPlaceholder"),t()(),i(63,"div",32)(64,"div")(65,"div",31),n(66," Day Range "),t(),i(67,"div",33)(68,"div",30),n(69),d(70,"valueOrPlaceholder"),t(),i(71,"div"),n(72),d(73,"valueOrPlaceholder"),t()(),i(74,"div",34)(75,"div",35),n(76," L "),t(),x(77,"input",36),i(78,"div",37),n(79," H "),t()()(),i(80,"div")(81,"div",31),n(82," 52 Week Range "),t(),i(83,"div",33)(84,"div",30),n(85),d(86,"valueOrPlaceholder"),t(),i(87,"div"),n(88),d(89,"valueOrPlaceholder"),t()(),i(90,"div",34)(91,"div",35),n(92," L "),t(),x(93,"input",36),i(94,"div",37),n(95," H "),t()()()()()(),i(96,"div",38)(97,"h5",27),n(98," Advance/Decline "),t(),i(99,"div",39)(100,"div",40)(101,"span"),n(102),d(103,"valueOrPlaceholder"),t(),i(104,"span"),n(105),d(106,"valueOrPlaceholder"),t()(),i(107,"div",41),x(108,"div",42),t(),i(109,"div",40)(110,"span"),n(111),d(112,"valueOrPlaceholder"),t(),i(113,"span"),n(114),d(115,"valueOrPlaceholder"),t()()()(),i(116,"div",26)(117,"h5",27),n(118," Returns "),t(),i(119,"div",43)(120,"div",44)(121,"div",45)(122,"div",31),n(123," 1 Month "),t(),i(124,"div",46),n(125),d(126,"valueOrPlaceholder"),t()(),i(127,"div",45)(128,"div",31),n(129," 3 Months "),t(),i(130,"div",46),n(131),d(132,"valueOrPlaceholder"),t()(),i(133,"div",45)(134,"div",31),n(135," 6 Months "),t(),i(136,"div",46),n(137),d(138,"valueOrPlaceholder"),t()()(),i(139,"div",44)(140,"div",45)(141,"div",31),n(142," 1 Year "),t(),i(143,"div",46),n(144),d(145,"valueOrPlaceholder"),t()(),i(146,"div",45)(147,"div",31),n(148," 3 Years "),t(),i(149,"div",46),n(150),d(151,"valueOrPlaceholder"),t()(),i(152,"div",45)(153,"div",31),n(154," 5 Years "),t(),i(155,"div",46),n(156),d(157,"valueOrPlaceholder"),t()()()()()(),i(158,"div",47)(159,"h5",48),n(160," Constituent Stocks "),t(),_(161,Ne,24,0,"div",49),t()}if(c&2){let e=l,r=m();a(3),p(" ",s(4,62,e.name)," "),a(3),j(s(8,66,s(7,64,e.exchange))),a(5),p(" ",s(12,68,e.quote==null?null:e.quote.value)," "),a(2),u("ngClass",(e.quote==null||e.quote.change==null?null:e.quote.change.direction)===r.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(),se(" ",(e.quote==null||e.quote.change==null?null:e.quote.change.direction)===r.Direction.UP?"\u25B2":"\u25BC"," ",s(15,70,e.quote==null||e.quote.change==null?null:e.quote.change.value)," (",s(16,72,e.quote==null||e.quote.change==null?null:e.quote.change.percentage),"%) "),a(3),L("md:px-4",!r.isChartInFullscreen),a(2),u("ngClass",r.isChartInFullscreen?"pe-4":"md:shadow md:rounded-lg md:border md:border-gray-200 md:dark:border-gray-700"),a(3),k(r.chartCrosshairData?22:-1),a(3),u("ngClass",r.activeChartTimeRange===r.ChartTimeRange.ONE_DAY?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),u("ngClass",r.activeChartTimeRange===r.ChartTimeRange.ONE_WEEK?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),u("ngClass",r.activeChartTimeRange===r.ChartTimeRange.ONE_MONTH?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),u("ngClass",r.activeChartTimeRange===r.ChartTimeRange.THREE_MONTHS?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),u("ngClass",r.activeChartTimeRange===r.ChartTimeRange.SIX_MONTHS?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),u("ngClass",r.activeChartTimeRange===r.ChartTimeRange.ONE_YEAR?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),u("ngClass",r.activeChartTimeRange===r.ChartTimeRange.FIVE_YEAR?"bg-primary-700 text-white dark:bg-primary-600":"bg-white text-gray-900 dark:bg-gray-800 dark:text-white hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-700 dark:hover:text-primary-500 focus:text-primary-700 dark:focus:text-primary-500"),a(2),u("ngClass",r.isChartInFullscreen?"flex-1":"w-full h-80"),a(2),k(r.isChartLoading?41:-1),a(),k(r.isChartNoData?42:-1),a(),u("ngClass",r.isChartInFullscreen?"block bottom-2 right-3":"block sm:hidden bottom-1 right-1"),a(2),k(r.isChartInFullscreen?45:46),a(11),p(" ",s(57,74,e.quote==null?null:e.quote.open)," "),a(5),p(" ",s(62,76,e.quote==null?null:e.quote.close)," "),a(8),p(" ",s(70,78,e.quote==null?null:e.quote.low)," "),a(3),j(s(73,80,e.quote==null?null:e.quote.high)),a(5),u("min",e.quote==null?null:e.quote.low)("max",e.quote==null?null:e.quote.high)("value",e.quote==null?null:e.quote.value),a(8),p(" ",s(86,82,e.quote==null?null:e.quote.fiftyTwoWeekLow)," "),a(3),p(" ",s(89,84,e.quote==null?null:e.quote.fiftyTwoWeekHigh)," "),a(5),u("min",e.quote==null?null:e.quote.fiftyTwoWeekLow)("max",e.quote==null?null:e.quote.fiftyTwoWeekHigh)("value",e.quote==null?null:e.quote.value),a(9),p("",q(103,86,e.quote==null||e.quote.advance==null?null:e.quote.advance.value,"1.0-0")," Advances"),a(3),p("",q(106,89,e.quote==null||e.quote.decline==null?null:e.quote.decline.value,"1.0-0")," Declines"),a(3),le("width",(e.quote==null||e.quote.advance==null?null:e.quote.advance.percentage)+"%"),L("rounded-r",!(!(e.quote==null||e.quote.decline==null)&&e.quote.decline.percentage)),a(3),p("",s(112,92,e.quote==null||e.quote.advance==null?null:e.quote.advance.percentage),"%"),a(3),p("",s(115,94,e.quote==null||e.quote.decline==null?null:e.quote.decline.percentage),"%"),a(7),u("ngClass",(e.performance==null||e.performance.monthly==null?null:e.performance.monthly.direction)===r.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),E(" ",(e.performance==null||e.performance.monthly==null?null:e.performance.monthly.direction)===r.Direction.UP?"\u25B2":"\u25BC"," ",s(126,96,e.performance==null||e.performance.monthly==null?null:e.performance.monthly.percentage),"% "),a(2),u("ngClass",(e.performance==null||e.performance.quarterly==null?null:e.performance.quarterly.direction)===r.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),E(" ",(e.performance==null||e.performance.quarterly==null?null:e.performance.quarterly.direction)===r.Direction.UP?"\u25B2":"\u25BC"," ",s(132,98,e.performance==null||e.performance.quarterly==null?null:e.performance.quarterly.percentage),"% "),a(2),u("ngClass",(e.performance==null||e.performance.halfYearly==null?null:e.performance.halfYearly.direction)===r.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),E(" ",(e.performance==null||e.performance.halfYearly==null?null:e.performance.halfYearly.direction)===r.Direction.UP?"\u25B2":"\u25BC"," ",s(138,100,e.performance==null||e.performance.halfYearly==null?null:e.performance.halfYearly.percentage),"% "),a(3),u("ngClass",(e.performance==null||e.performance.yearly==null||e.performance.yearly.one==null?null:e.performance.yearly.one.direction)===r.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),E(" ",(e.performance==null||e.performance.yearly==null||e.performance.yearly.one==null?null:e.performance.yearly.one.direction)===r.Direction.UP?"\u25B2":"\u25BC"," ",s(145,102,e.performance==null||e.performance.yearly==null||e.performance.yearly.one==null?null:e.performance.yearly.one.percentage),"% "),a(2),u("ngClass",(e.performance==null||e.performance.yearly==null||e.performance.yearly.three==null?null:e.performance.yearly.three.direction)===r.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),E(" ",(e.performance==null||e.performance.yearly==null||e.performance.yearly.three==null?null:e.performance.yearly.three.direction)===r.Direction.UP?"\u25B2":"\u25BC"," ",s(151,104,e.performance==null||e.performance.yearly==null||e.performance.yearly.three==null?null:e.performance.yearly.three.percentage),"% "),a(2),u("ngClass",(e.performance==null||e.performance.yearly==null||e.performance.yearly.five==null?null:e.performance.yearly.five.direction)===r.Direction.UP?"text-green-500 dark:text-green-400":"text-red-600 dark:text-red-500"),a(4),E(" ",(e.performance==null||e.performance.yearly==null||e.performance.yearly.five==null?null:e.performance.yearly.five.direction)===r.Direction.UP?"\u25B2":"\u25BC"," ",s(157,106,e.performance==null||e.performance.yearly==null||e.performance.yearly.five==null?null:e.performance.yearly.five.percentage),"% "),a(5),k(e.constituents&&e.constituents.length>0?161:-1)}}function He(c,l){c&1&&(i(0,"div",3),w(),i(1,"svg",53),x(2,"path",54)(3,"path",55),t(),R(),i(4,"span",56),n(5,"Loading..."),t()())}var g=function(c){return c.ONE_DAY="1D",c.ONE_WEEK="1W",c.ONE_MONTH="1M",c.THREE_MONTHS="3M",c.SIX_MONTHS="6M",c.ONE_YEAR="1Y",c.FIVE_YEAR="5Y",c}(g||{}),ke=class K{constructor(l,e,r,o){this.document=l,this.cdr=e,this.exchange=A(""),this.id=A(""),this.activeChartTimeRange=g.ONE_DAY,this.activeExchange=$.NSE,this.isChartLoading=!0,this.isChartInFullscreen=!1,this.isChartNoData=!1,this.Routes=ve.routes,this.Exchange=$,this.Direction=I,this.ChartTimeRange=g,this.showIntraDayChart$=new X(!0),this.isMarketOpen=!1,r.marketStatus$.pipe(O(this)).subscribe(({status:h})=>{this.isMarketOpen=h===ye.OPEN}),this.index$=J([z(this.exchange),z(this.id)]).pipe(H(([h,V])=>r.getIndex(V,h,!0)),D(h=>{if(h&&!this.chart){let V=r.getIntraDayChart(h.id,W.INDEX),Ee=r.getHistoricalChart(h.id,W.INDEX).pipe(D(S=>{S.length>0&&(this.historicChartData=S.reduce((v,Q)=>(v.set(Q.time,Q),v),new Map))}));this.showIntraDayChart$.pipe(ie(),D(()=>{this.chart&&(this.chart.clearCrosshairPosition(),this.chart.applyOptions({timeScale:{visible:!1},rightPriceScale:{visible:!1}}),this.areaSeries&&this.areaSeries.setData([])),this.isChartLoading=!0}),H(S=>S?V.pipe(O(this)):Ee.pipe(ee(1)))).pipe(te(100)).subscribe(S=>{S.length>0?(this.isChartNoData=!1,this.initChart(S),this.areaSeries&&this.areaSeries.applyOptions({lineColor:h.quote?.change?.direction?h.quote.change.direction===I.UP?"#22c55e":"#ef4444":"#2962FF",topColor:h.quote?.change?.direction?h.quote.change.direction===I.UP?"rgba(34, 197, 94, 0.4)":"rgba(239, 68, 68, 0.4)":"rgba(41, 98, 255, 0.4)",bottomColor:h.quote?.change?.direction?h.quote.change.direction===I.UP?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)":"rgba(41, 98, 255, 0.1)"}),o.resize$.pipe(O(this)).subscribe(()=>{this.chart&&this.chartRef&&(this.chart.resize(this.chartRef.nativeElement.offsetWidth,this.chartRef.nativeElement.offsetHeight),this.chart.timeScale().fitContent(),this.setChartTimeRange(this.activeChartTimeRange))}),o.settings$.pipe(O(this),re("colorScheme")).subscribe(({colorScheme:v})=>{v&&this.chart&&this.chart.applyOptions({layout:{textColor:v===P.DARK?"#fff":"#111827"},timeScale:{visible:!0,borderColor:v===P.DARK?"#374151":"#E5E7EB"},rightPriceScale:{visible:!0,borderColor:v===P.DARK?"#374151":"#E5E7EB"},crosshair:{horzLine:{labelBackgroundColor:v===P.DARK?"#111827":"#f3f4f6"},vertLine:{labelBackgroundColor:v===P.DARK?"#111827":"#f3f4f6"}}})})):this.isChartNoData=!0,this.isChartLoading=!1,this.cdr.markForCheck()})}}))}setChartTimeRange(l){if(l){if(this.activeChartTimeRange=l,this.showIntraDayChart$.next(l===g.ONE_DAY),l!==g.ONE_DAY){let e=new Date,r;switch(l){case g.ONE_WEEK:r=b.getTimestampSince(e,10);break;case g.ONE_MONTH:r=b.getTimestampSince(e,30);break;case g.THREE_MONTHS:r=b.getTimestampSince(e,90);break;case g.SIX_MONTHS:r=b.getTimestampSince(e,180);break;case g.ONE_YEAR:r=b.getTimestampSince(e,365);break;case g.FIVE_YEAR:r=b.getTimestampSince(e,5*356);break;default:console.warn(`Invalid range: ${l}`)}this.chart&&r>0&&(this.chart.applyOptions({timeScale:{timeVisible:!1}}),this.areaSeries&&this.areaSeries.applyOptions({lastPriceAnimation:0}),this.areaSeries&&this.areaSeries.data().length>0&&this.chart.timeScale().setVisibleRange({from:b.epochToUtcTimestamp(r),to:b.epochToUtcTimestamp(e.getTime())}));return}this.chart&&(this.chart.applyOptions({timeScale:{timeVisible:!0}}),this.areaSeries&&this.areaSeries.applyOptions({lastPriceAnimation:this.isMarketOpen?1:0}),this.chart.timeScale().setVisibleLogicalRange({from:0,to:375}))}}onFullscreenChange(){this.document.fullscreenElement?this.isChartInFullscreen=!0:this.isChartInFullscreen=!1,this.chart&&this.chartRef&&(this.chart.resize(this.chartRef.nativeElement.offsetWidth,this.chartRef.nativeElement.offsetHeight),this.chart.timeScale().fitContent(),this.setChartTimeRange(this.activeChartTimeRange))}toggleFullscreen(){this.document.fullscreenElement?this.document.exitFullscreen():this.chartContainerRef&&this.chartContainerRef.nativeElement.requestFullscreen().then(()=>{screen.orientation.lock("landscape").catch(l=>{console.error(`An error occurred while trying to lock screen orientation to landscape: ${l.message} (${l.name})`)}),this.cdr.markForCheck()}).catch(l=>{console.error(`An error occurred while trying to switch into fullscreen mode: ${l.message} (${l.name})`)})}ngOnDestroy(){this.chart&&this.chart.unsubscribeCrosshairMove(this.chartCrosshairMoveEventHandler.bind(this))}initChart(l){if(this.chartRef?.nativeElement){let e=this.showIntraDayChart$.getValue();this.chart||(this.chart=_e(this.chartRef.nativeElement,{layout:{background:{color:"transparent"}},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},handleScroll:!1,handleScale:!1,timeScale:{lockVisibleTimeRangeOnResize:!0,timeVisible:e,secondsVisible:!1}}),this.areaSeries=this.chart.addAreaSeries({lineWidth:1})),this.areaSeries||(this.areaSeries=this.chart.addAreaSeries({lineWidth:1,lastPriceAnimation:this.isMarketOpen&&e?1:0})),this.areaSeries.setData(l),this.setChartTimeRange(this.activeChartTimeRange),this.chart.subscribeCrosshairMove(this.chartCrosshairMoveEventHandler.bind(this))}}chartCrosshairMoveEventHandler({time:l}){l&&this.historicChartData&&this.historicChartData.size>0?this.chartCrosshairData=this.historicChartData.get(l.toLocaleString()):this.chartCrosshairData=void 0,this.cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||K)(T(pe),T(B),T(N),T(M))}}static{this.\u0275cmp=ae({type:K,selectors:[["app-indices"]],viewQuery:function(e,r){if(e&1&&(F(Se,5),F(we,5)),e&2){let o;U(o=Y())&&(r.chartContainerRef=o.first),U(o=Y())&&(r.chartRef=o.first)}},hostBindings:function(e,r){e&1&&f("fullscreenchange",function(){return r.onFullscreenChange()},!1,ne)},inputs:{exchange:[1,"exchange"],id:[1,"id"]},decls:4,vars:3,consts:[["chartContainer",""],["chart",""],[1,"flex","h-full","flex-col"],["role","status",1,"flex","flex-1","items-center","justify-center"],[1,"space-y-2","p-4"],[1,"flex","space-x-4"],[1,"flex-1","text-2xl","font-semibold"],[1,"me-2","rounded","bg-gray-100","px-1.5","py-0.5","text-xs","font-medium","text-gray-800","dark:bg-gray-700","dark:text-gray-300"],[1,"text-gray-900","dark:text-white"],[1,"text-lg","font-semibold"],[1,"flex","items-center",3,"ngClass"],[1,"flex","flex-col"],[1,"relative","flex","flex-1","flex-col","bg-white","py-4","dark:bg-gray-800",3,"ngClass"],[1,"flex","max-w-full","px-4","pb-4"],[1,"flex","h-8","min-w-36","max-w-36","flex-col","pe-2","text-xs","text-gray-900","md:max-w-none","md:flex-row","md:space-x-3","md:pe-4","dark:text-white"],[1,"flex","flex-1","justify-end"],["role","group",1,"inline-flex","h-8","rounded-md","shadow-sm"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","rounded-s-lg","border","border-r-0","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","border","border-r-0","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],["type","button",1,"focus:ring-primary-700","dark:focus:ring-primary-500","inline-flex","h-8","w-8","items-center","justify-center","rounded-e-lg","border","border-gray-200","text-xs","focus:z-10","focus:ring-2","dark:border-gray-700",3,"click","ngClass"],[3,"ngClass"],["role","status",1,"flex","h-full","flex-1","items-center","justify-center"],["role","status",1,"flex","h-full","flex-col","items-center","justify-center","text-gray-500","dark:text-gray-400"],[1,"absolute",3,"ngClass"],["type","button",1,"rounded-lg","p-2","text-gray-500","hover:bg-gray-100","hover:text-gray-900","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],[1,"grid","grid-cols-1","gap-4","p-4","sm:grid-cols-2","xl:grid-cols-3"],[1,"flex-1","rounded-lg","border","border-gray-200","bg-white","p-4","shadow","dark:border-gray-700","dark:bg-gray-800"],[1,"mb-4","text-xl","font-semibold","leading-none","text-gray-900","dark:text-white"],[1,"flex","space-x-10","text-sm","text-gray-900","dark:text-white"],[1,"flex","flex-col","space-y-4"],[1,"flex-1"],[1,"pb-1","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","flex-1","flex-col","space-y-4"],[1,"flex","text-xs"],[1,"flex","items-center"],[1,"text-xs","font-bold","text-red-600","dark:text-red-500"],["type","range","disabled","",1,"slider","mx-1","h-1","flex-1","appearance-none","rounded-lg","bg-gray-200","dark:bg-gray-700",3,"min","max","value"],[1,"text-xs","font-bold","text-green-500","dark:text-green-400"],[1,"flex","flex-col","rounded-lg","border","border-gray-200","bg-white","p-4","shadow","dark:border-gray-700","dark:bg-gray-800"],[1,"flex","flex-1","flex-col","justify-center"],[1,"flex","w-full","justify-between","text-sm","text-gray-900","dark:text-white"],[1,"my-3","h-2","w-full","rounded-full","bg-red-600","dark:bg-red-500"],[1,"h-2","rounded-l","bg-green-500","dark:bg-green-400"],[1,"flex","flex-col","space-y-4","text-sm"],[1,"flex","justify-between"],[1,"flex-1",3,"ngClass"],[1,"flex"],[1,"mb-4","sm:mx-4"],[1,"p-4","text-xl","font-semibold","leading-none","text-gray-900","sm:mx-0","dark:text-white"],[1,"relative","overflow-x-auto","shadow","sm:rounded-lg"],[1,"flex","md:flex-col"],[1,"text-gray-500","dark:text-gray-400"],[1,"flex","whitespace-nowrap","md:flex-col",3,"ngClass"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"h-8","w-8","animate-spin","fill-blue-600","text-gray-200","dark:text-gray-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","h-12","w-12"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-6","w-6"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 9h4m0 0V5m0 4L4 4m15 5h-4m0 0V5m0 4 5-5M5 15h4m0 0v4m0-4-5 5m15-5h-4m0 0v4m0-4 5 5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 4H4m0 0v4m0-4 5 5m7-5h4m0 0v4m0-4-5 5M8 20H4m0 0v-4m0 4 5-5m7 5h4m0 0v-4m0 4-5-5"],[1,"w-screen","text-left","text-sm","text-gray-500","sm:w-full","rtl:text-right","dark:text-gray-400"],["width","100%"],["width","0%"],[1,"whitespace-nowrap","bg-gray-50","text-center","text-xs","uppercase","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"p-2","text-left","sm:p-4"],[1,"whitespace-nowrap"],["scope","col",1,"p-2","sm:p-4"],[1,"cursor-pointer","border-b","bg-white","dark:border-gray-700","dark:bg-gray-800",3,"routerLink"],["scope","row",1,"max-w-[1px]","p-2","font-normal","sm:p-4"],[1,"truncate","font-medium","text-gray-900","dark:text-white"],[1,"p-2","text-center","sm:p-4"],[1,"pt-1.5","text-xs"],[1,"p-2","text-center","sm:p-4",3,"ngClass"]],template:function(e,r){if(e&1&&(i(0,"div",2),_(1,Ve,162,108),d(2,"async"),_(3,He,6,0,"div",3),t()),e&2){let o;a(),k((o=s(2,1,r.index$))?1:3,o)}},dependencies:[xe,me,he,ge,fe,Ce],styles:[".slider[_ngcontent-%COMP%]::-moz-range-thumb{height:.625rem;width:.125rem;cursor:default;border-radius:0}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{height:.625rem;width:.125rem;cursor:default;border-radius:0}"],changeDetection:0})}};ke=G([be(),Z("design:paramtypes",[Document,B,N,M])],ke);export{ke as IndicesPage};
